<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>reactnative_videocall</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li><a href="#making-video-call-feature-in-expo">Making Video Call Feature in expo</a>
<ul>
<li><a href="#eas-build-option-1">eas-build option 1</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <h1 id="making-video-call-feature-in-expo">Making Video Call Feature in <code>expo</code></h1>
<p>Video call feature in react native is offered by various platform but in expo the support is not readily available.</p>
<pre class=" language-mermaid"><svg id="mermaid-svg-juGeLiteKOOkC9w7" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="352.86663818359375" style="max-width: 739.3499755859375px;" viewBox="0 0 739.3499755859375 352.86663818359375"><style>#mermaid-svg-juGeLiteKOOkC9w7{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-svg-juGeLiteKOOkC9w7 .error-icon{fill:#552222;}#mermaid-svg-juGeLiteKOOkC9w7 .error-text{fill:#552222;stroke:#552222;}#mermaid-svg-juGeLiteKOOkC9w7 .edge-thickness-normal{stroke-width:2px;}#mermaid-svg-juGeLiteKOOkC9w7 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-svg-juGeLiteKOOkC9w7 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-svg-juGeLiteKOOkC9w7 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-svg-juGeLiteKOOkC9w7 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-svg-juGeLiteKOOkC9w7 .marker{fill:#666;stroke:#666;}#mermaid-svg-juGeLiteKOOkC9w7 .marker.cross{stroke:#666;}#mermaid-svg-juGeLiteKOOkC9w7 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-svg-juGeLiteKOOkC9w7 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-svg-juGeLiteKOOkC9w7 .cluster-label text{fill:#333;}#mermaid-svg-juGeLiteKOOkC9w7 .cluster-label span{color:#333;}#mermaid-svg-juGeLiteKOOkC9w7 .label text,#mermaid-svg-juGeLiteKOOkC9w7 span{fill:#000000;color:#000000;}#mermaid-svg-juGeLiteKOOkC9w7 .node rect,#mermaid-svg-juGeLiteKOOkC9w7 .node circle,#mermaid-svg-juGeLiteKOOkC9w7 .node ellipse,#mermaid-svg-juGeLiteKOOkC9w7 .node polygon,#mermaid-svg-juGeLiteKOOkC9w7 .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-svg-juGeLiteKOOkC9w7 .node .label{text-align:center;}#mermaid-svg-juGeLiteKOOkC9w7 .node.clickable{cursor:pointer;}#mermaid-svg-juGeLiteKOOkC9w7 .arrowheadPath{fill:#333333;}#mermaid-svg-juGeLiteKOOkC9w7 .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-svg-juGeLiteKOOkC9w7 .flowchart-link{stroke:#666;fill:none;}#mermaid-svg-juGeLiteKOOkC9w7 .edgeLabel{background-color:white;text-align:center;}#mermaid-svg-juGeLiteKOOkC9w7 .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-svg-juGeLiteKOOkC9w7 .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-svg-juGeLiteKOOkC9w7 .cluster text{fill:#333;}#mermaid-svg-juGeLiteKOOkC9w7 .cluster span{color:#333;}#mermaid-svg-juGeLiteKOOkC9w7 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-svg-juGeLiteKOOkC9w7:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-svg-juGeLiteKOOkC9w7 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath LS-A LE-B" style="opacity: 1;" id="L-A-B"><path class="path" d="M96.09148821376121,104.71665954589844L165.18333435058594,31.35832977294922L190.18333435058594,31.35832977294922" marker-end="url(https://stackedit.io/app#arrowhead43)" style="fill:none"></path><defs><marker id="arrowhead43" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath LS-A LE-C" style="opacity: 1;" id="L-A-C"><path class="path" d="M140.18333435058594,128.07498931884766L165.18333435058594,128.07498931884766L219,128.07498931884766" marker-end="url(https://stackedit.io/app#arrowhead44)" style="fill:none"></path><defs><marker id="arrowhead44" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath LS-B LE-D" style="opacity: 1;" id="L-B-D"><path class="path" d="M460.43333435058594,31.35832977294922L485.43333435058594,31.35832977294922L525.8916702270508,31.35832977294922" marker-end="url(https://stackedit.io/app#arrowhead45)" style="fill:none"></path><defs><marker id="arrowhead45" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath LS-C LE-E" style="opacity: 1;" id="L-C-E"><path class="path" d="M431.6166687011719,128.07498931884766L485.43333435058594,128.07498931884766L510.43333435058594,128.07498931884766" marker-end="url(https://stackedit.io/app#arrowhead46)" style="fill:none"></path><defs><marker id="arrowhead46" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath LS-A LE-F" style="opacity: 1;" id="L-A-F"><path class="path" d="M96.09148821376121,151.43331909179688L165.18333435058594,224.7916488647461L234.32500457763672,224.7916488647461" marker-end="url(https://stackedit.io/app#arrowhead47)" style="fill:none"></path><defs><marker id="arrowhead47" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath LS-F LE-G" style="opacity: 1;" id="L-F-G"><path class="path" d="M416.29166412353516,224.7916488647461L485.43333435058594,224.7916488647461L555.375,224.7916488647461" marker-end="url(https://stackedit.io/app#arrowhead48)" style="fill:none"></path><defs><marker id="arrowhead48" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g><g class="edgePath LS-H LE-I" style="opacity: 1;" id="L-H-I"><path class="path" d="M127.625,321.50830841064453L165.18333435058594,321.50830841064453L272.875,321.50830841064453" marker-end="url(https://stackedit.io/app#arrowhead49)" style="fill:none"></path><defs><marker id="arrowhead49" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-A-B" class="edgeLabel L-LS-A' L-LE-B"></span></div></foreignObject></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-A-C" class="edgeLabel L-LS-A' L-LE-C"></span></div></foreignObject></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-B-D" class="edgeLabel L-LS-B' L-LE-D"></span></div></foreignObject></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-C-E" class="edgeLabel L-LS-C' L-LE-E"></span></div></foreignObject></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-A-F" class="edgeLabel L-LS-A' L-LE-F"></span></div></foreignObject></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-F-G" class="edgeLabel L-LS-F' L-LE-G"></span></div></foreignObject></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-H-I" class="edgeLabel L-LS-H' L-LE-I"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" style="opacity: 1;" id="flowchart-A-169" transform="translate(74.09166717529297,128.07498931884766)"><rect rx="0" ry="0" x="-66.09166717529297" y="-23.35832977294922" width="132.18333435058594" height="46.71665954589844" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-56.09166717529297,-13.358329772949219)"><foreignObject width="112.18333435058594" height="26.716659545898438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Expo Code Base</div></foreignObject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-B-170" transform="translate(325.30833435058594,31.35832977294922)"><rect rx="0" ry="0" x="-135.125" y="-23.35832977294922" width="270.25" height="46.71665954589844" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-125.125,-13.358329772949219)"><foreignObject width="250.25" height="26.716659545898438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Expo Go App using `expo --tunnel`</div></foreignObject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-C-172" transform="translate(325.30833435058594,128.07498931884766)"><rect rx="0" ry="0" x="-106.30833435058594" y="-23.35832977294922" width="212.61666870117188" height="46.71665954589844" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-96.30833435058594,-13.358329772949219)"><foreignObject width="192.61666870117188" height="26.716659545898438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Eas Build using `eas-build`</div></foreignObject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-D-174" transform="translate(620.8916702270508,31.35832977294922)"><rect rx="0" ry="0" x="-95" y="-23.35832977294922" width="190" height="46.71665954589844" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-85,-13.358329772949219)"><foreignObject width="170" height="26.716659545898438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">videocall does not work</div></foreignObject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-E-176" transform="translate(620.8916702270508,128.07498931884766)"><rect rx="0" ry="0" x="-110.45833587646484" y="-23.35832977294922" width="220.9166717529297" height="46.71665954589844" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-100.45833587646484,-13.358329772949219)"><foreignObject width="200.9166717529297" height="26.716659545898438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">may work? after installation</div></foreignObject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-F-178" transform="translate(325.30833435058594,224.7916488647461)"><rect rx="0" ry="0" x="-90.98332977294922" y="-23.35832977294922" width="181.96665954589844" height="46.71665954589844" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-80.98332977294922,-13.358329772949219)"><foreignObject width="161.96665954589844" height="26.716659545898438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">`eas-build` local build</div></foreignObject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-G-179" transform="translate(620.8916702270508,224.7916488647461)"><rect rx="0" ry="0" x="-65.51667022705078" y="-23.35832977294922" width="131.03334045410156" height="46.71665954589844" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-55.51667022705078,-13.358329772949219)"><foreignObject width="111.03334045410156" height="26.716659545898438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">android/iphone</div></foreignObject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-H-180" transform="translate(74.09166717529297,321.50830841064453)"><rect rx="0" ry="0" x="-53.53333282470703" y="-23.35832977294922" width="107.06666564941406" height="46.71665954589844" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-43.53333282470703,-13.358329772949219)"><foreignObject width="87.06666564941406" height="26.716659545898438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">react native</div></foreignObject></g></g></g><g class="node default" style="opacity: 1;" id="flowchart-I-181" transform="translate(325.30833435058594,321.50830841064453)"><rect rx="0" ry="0" x="-52.43333435058594" y="-23.35832977294922" width="104.86666870117188" height="46.71665954589844" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-42.43333435058594,-13.358329772949219)"><foreignObject width="84.86666870117188" height="26.716659545898438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">deployment</div></foreignObject></g></g></g></g></g></g></svg></pre>
<p><strong>Premise: Trial and Error</strong><br>
<em>Option 1</em><br>
Using <code>eas-build</code> we will try to build the <code>.apk</code> and check  for android. For <code>ios</code>, we will try to find a method to test an app in iphone after building.<br>
The idea of this method is to eliminate the process of <strong>eject</strong>-ing the expo app as we need the sweet abstraction from expo. We might definitely loose the live reloading in expo app but we will have video calling feature in the same bundle.</p>
<p><em>Option 2</em><br>
We will have to leave expo environment and use pure react native which is not a bad thing at all. build, test and distribution process would be slight foreign. We need a macbook to build for IOS. oh no! we are broke developers.</p>
<p><em>Option 3</em><br>
We can pre-cook the native code and install it as a library in expo to make it work in <code>expo</code> which will allow us to use the app even in expo go. But we have better things to spend our time.</p>
<h2 id="eas-build-option-1"><code>eas-build</code> option 1</h2>
<p><a href="https://www.youtube.com/watch?v=k1M2WqdpgVg">Expo Build for ios and android</a></p>
<h3 id="android-building-.apkfor-testing">Android: building <code>.apk</code>for testing</h3>
<p><a href="https://www.youtube.com/watch?v=fUS_BjOHi-c">Expo Build Feature in Android for Testing</a></p>
<p>By building an apk we can use native code to test in our mobile phones using <code>eas-build</code> command.</p>
<hr>
<p><a href="https://www.youtube.com/watch?v=PdwYDatvJ2I">Deploying test app for ios using <code>transporter</code></a></p>

    </div>
  </div>
</body>

</html>
